<?xml version="1.0" encoding="utf-8"?>
<Patch>
  
  <!-- Donaustahl patches - require RobCo mod -->
  <Operation Class="PatchOperationSequence" MayRequire="FIP.RobCo">
    <success>Always</success>
    <operations>
      
      <!-- Remove all vanilla recipes from MechGestator -->
      <li Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MechGestator"]/recipes</xpath>
        <value>
          <recipes />
        </value>
      </li>
      
      <!-- Remove all vanilla recipes from LargeMechGestator -->
      <li Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="LargeMechGestator"]/recipes</xpath>
        <value>
          <recipes />
        </value>
      </li>
      
      <!-- Remove bossgroup caller comps -->
      <li Class="PatchOperationRemove">
        <xpath>/Defs/ThingDef[defName="BurnoutMechlinkBooster"]/comps/li[1]</xpath>
      </li>
      <li Class="PatchOperationRemove">
        <xpath>/Defs/ThingDef[defName="BurnoutMechlinkBooster"]/comps/li[2]</xpath>
      </li>
      <li Class="PatchOperationRemove">
        <xpath>/Defs/ThingDef[defName="MechbandDish"]/comps/li[1]</xpath>
      </li>
      <li Class="PatchOperationRemove">
        <xpath>/Defs/ThingDef[defName="MechbandDish"]/comps/li[2]</xpath>
      </li>
      <li Class="PatchOperationRemove">
        <xpath>/Defs/ThingDef[defName="CommsConsole"]/comps/li[4]</xpath>
      </li>
      <li Class="PatchOperationRemove">
        <xpath>/Defs/ThingDef[defName="CommsConsole"]/comps/li[5]</xpath>
      </li>
      
      <!-- Make all vanilla mechanoids non-fighters -->
      <!-- Biotech Light Mechanoids -->
      <li Class="PatchOperationAdd">
        <xpath>/Defs/PawnKindDef[defName="Mech_Militor"]</xpath>
        <value>
          <isFighter>false</isFighter>
        </value>
      </li>
      <li Class="PatchOperationAdd">
        <xpath>/Defs/PawnKindDef[defName="Mech_Lifter"]</xpath>
        <value>
          <isFighter>false</isFighter>
        </value>
      </li>
      <li Class="PatchOperationAdd">
        <xpath>/Defs/PawnKindDef[defName="Mech_Constructoid"]</xpath>
        <value>
          <isFighter>false</isFighter>
        </value>
      </li>
      <li Class="PatchOperationAdd">
        <xpath>/Defs/PawnKindDef[defName="Mech_Fabricor"]</xpath>
        <value>
          <isFighter>false</isFighter>
        </value>
      </li>
      <li Class="PatchOperationAdd">
        <xpath>/Defs/PawnKindDef[defName="Mech_Agrihand"]</xpath>
        <value>
          <isFighter>false</isFighter>
        </value>
      </li>
      <li Class="PatchOperationAdd">
        <xpath>/Defs/PawnKindDef[defName="Mech_Cleansweeper"]</xpath>
        <value>
          <isFighter>false</isFighter>
        </value>
      </li>
      <li Class="PatchOperationAdd">
        <xpath>/Defs/PawnKindDef[defName="Mech_WarUrchin"]</xpath>
        <value>
          <isFighter>false</isFighter>
        </value>
      </li>
      <li Class="PatchOperationAdd">
        <xpath>/Defs/PawnKindDef[defName="Mech_Paramedic"]</xpath>
        <value>
          <isFighter>false</isFighter>
        </value>
      </li>
      
      <!-- Biotech Medium Mechanoids -->
      <li Class="PatchOperationAdd">
        <xpath>/Defs/PawnKindDef[defName="Mech_Legionary"]</xpath>
        <value>
          <isFighter>false</isFighter>
        </value>
      </li>
      <li Class="PatchOperationAdd">
        <xpath>/Defs/PawnKindDef[defName="Mech_Tesseron"]</xpath>
        <value>
          <isFighter>false</isFighter>
        </value>
      </li>
      <li Class="PatchOperationAdd">
        <xpath>/Defs/PawnKindDef[defName="Mech_Scorcher"]</xpath>
        <value>
          <isFighter>false</isFighter>
        </value>
      </li>
      
      <!-- Biotech Heavy Mechanoids -->
      <li Class="PatchOperationAdd">
        <xpath>/Defs/PawnKindDef[defName="Mech_Tunneler"]</xpath>
        <value>
          <isFighter>false</isFighter>
        </value>
      </li>
      
      <!-- Biotech SuperHeavy Mechanoids -->
      <li Class="PatchOperationAdd">
        <xpath>/Defs/PawnKindDef[defName="Mech_Apocriton"]</xpath>
        <value>
          <isFighter>false</isFighter>
        </value>
      </li>
      <li Class="PatchOperationAdd">
        <xpath>/Defs/PawnKindDef[defName="Mech_Centurion"]</xpath>
        <value>
          <isFighter>false</isFighter>
        </value>
      </li>
      <li Class="PatchOperationAdd">
        <xpath>/Defs/PawnKindDef[defName="Mech_Warqueen"]</xpath>
        <value>
          <isFighter>false</isFighter>
        </value>
      </li>
      <li Class="PatchOperationAdd">
        <xpath>/Defs/PawnKindDef[defName="Mech_Diabolus"]</xpath>
        <value>
          <isFighter>false</isFighter>
        </value>
      </li>
      
    </operations>
  </Operation>
  
  <!-- Odyssey Mechanoids - requires RobCo and Odyssey -->
  <Operation Class="PatchOperationSequence" MayRequire="FIP.RobCo,Ludeon.RimWorld.Odyssey">
    <success>Always</success>
    <operations>
      <li Class="PatchOperationAdd">
        <xpath>/Defs/PawnKindDef[defName="Mech_Cyclops"]</xpath>
        <value>
          <isFighter>false</isFighter>
        </value>
      </li>
    </operations>
  </Operation>
  
</Patch>
