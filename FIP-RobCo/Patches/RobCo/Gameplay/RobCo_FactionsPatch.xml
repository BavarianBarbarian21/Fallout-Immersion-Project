<?xml version="1.0" encoding="utf-8"?>
<Patch>
    <!-- AncientComplex_Mechanitor -->
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/SitePartDef[defName="AncientComplex_Mechanitor"]/label</xpath>
        <value>
            <label>Ancient RobCo Factory</label>
        </value>
    </Operation>
    <!-- Patch ShuttleCrashed_Exitable_Mechanitor label and description -->
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="ShuttleCrashed_Exitable_Mechanitor"]/label</xpath>
        <value>
            <label>Vertibird crash site</label>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="ShuttleCrashed_Exitable_Mechanitor"]/description</xpath>
        <value>
            <description>The crash site of a Vertibird, possibly containing valuable robotics salvage and pre-war technology.</description>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/SitePartDef[defName="AncientComplex_Mechanitor"]/description</xpath>
        <value>
            <description>An ancient RobCo facility filled with pre-war robotics technology and secrets. Might contain a useable Pipboy.</description>
        </value>
    </Operation>
    <!-- ShuttleCrashing_Mechanitor -->
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="ShuttleCrashing_Mechanitor"]/label</xpath>
        <value>
            <label>Vertibot crash site</label>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="ShuttleCrashing_Mechanitor"]/description</xpath>
        <value>
            <description>The crash site of a Vertibot, possibly containing valuable robotics salvage.</description>
        </value>
    </Operation>
    <!-- Ship_ShuttleCrashing_Mechanitor -->
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/TransportShipDef[defName="Ship_ShuttleCrashing_Mechanitor"]/label</xpath>
        <value>
            <label>Vertibot crash site</label>
        </value>
    </Operation>
    <!--Mechanoid (Faction)-->
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/FactionDef[defName="Mechanoid"]/label</xpath>
        <value>
            <label>Mechanist</label>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/FactionDef[defName="Mechanoid"]/description</xpath>
        <value>
            <description>Crafted from the remnants of a lost age, the Mechanist commands legions of cold steel and gears. With an unyielding devotion to technology, they seek to build a new order where machines reign supreme, and flesh is secondary. Their creations march endlessly â€” silent, relentless, perfect.</description>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace" MayRequire="Ludeon.RimWorld.Royalty">
        <xpath>/Defs/FactionDef[defName="Mechanoid"]/pawnSingular</xpath>
        <value>
            <pawnSingular>Robot</pawnSingular>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace" MayRequire="Ludeon.RimWorld.Royalty">
        <xpath>/Defs/FactionDef[defName="Mechanoid"]/pawnsPlural</xpath>
        <value>
            <pawnsPlural>Robots</pawnsPlural>
        </value>
    </Operation>
    <!-- Patch MechanitorShip questDescription -->
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/QuestScriptDef[defName="MechanitorShip"]/questDescriptionRules/rulesStrings/li[contains(text(),'questDescription->')]</xpath>
        <value>
            <li>questDescription->You have decrypted an ancient RobCo transponder, revealing the location of a Vertibot ship in orbit. The ship is badly damaged, but you can signal it to land nearby.\n\nThe ship contains the remains of a long-dead RobCo mechanitor. Mechanitors can create and control robots for work and combat. By extracting the deceased mechanitor's Pipboy, you can turn one of your own colonists into a mechanitor.\n\nBeware - the ship also contains hostile RobCo robots. The robot group is composed of:\n\n[mechList]</li>
        </value>
    </Operation>
    <!-- Patch MechanitorShip mechGroups to spawn 1 Eyebot and 2 Protectrons -->
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/QuestScriptDef[defName="MechanitorShip"]/root/mechGroups</xpath>
        <value>
            <mechGroups>
                <li>
                    <options>
                        <li>
                            <pawnKind>RobCo_Eyebot</pawnKind>
                            <weight>1</weight>
                            <requireOneOf>true</requireOneOf>
                        </li>
                        <li>
                            <pawnKind>RobCo_Protectron</pawnKind>
                            <weight>2</weight>
                        </li>
                    </options>
                </li>
            </mechGroups>
        </value>
    </Operation>
    <!-- Patch MechanitorShip questContentRules -->
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/QuestScriptDef[defName="MechanitorShip"]/questContentRules/rulesStrings/li[contains(text(),'mechanitorShuttleCrashedLetterLabel->')]</xpath>
        <value>
            <li>mechanitorShuttleCrashedLetterLabel->Vertibot crash site</li>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/QuestScriptDef[defName="MechanitorShip"]/questContentRules/rulesStrings/li[contains(text(),'mechanitorShuttleCrashedLetterText->')]</xpath>
        <value>
            <li>mechanitorShuttleCrashedLetterText->A Vertibot containing rogue RobCo robots has crashed nearby.\n\nThe robots will exit the wreck and prepare to fight.</li>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/QuestScriptDef[defName="MechanitorShip"]/questContentRules/rulesStrings/li[contains(text(),'assaultBeginLetterLabel->')]</xpath>
        <value>
            <li>assaultBeginLetterLabel->RobCo robot attack</li>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/QuestScriptDef[defName="MechanitorShip"]/questContentRules/rulesStrings/li[contains(text(),'assaultBeginLetterText->')]</xpath>
        <value>
            <li>assaultBeginLetterText->The rogue RobCo robots are coming to assault the colony!</li>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/QuestScriptDef[defName="MechanitorShip"]/questContentRules/rulesStrings/li[contains(text(),"mechlinkAvailableLetterLabel->")]</xpath>
        <value>
            <li>mechlinkAvailableLetterLabel->[mechanitor_nameDef]'s Pipboy available</li>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/QuestScriptDef[defName="MechanitorShip"]/questContentRules/rulesStrings/li[contains(text(),"mechlinkAvailableLetterText->")]</xpath>
        <value>
            <li>mechlinkAvailableLetterText->The crashed Vertibot contained the corpse of an ancient  RobCo mechanitor.\n\nExtract [mechanitor_possessive] Pipboy by selecting a colonist and right-clicking the corpse.</li>
        </value>
    </Operation>
</Patch>